<% content_for :javascript_includes do %>
  <%= javascript_include_tag "isotope", "masonry.pkgd.min",
                             "light-gallery/lightgallery", "light-gallery/lg-autoplay.min",
                             "light-gallery/lg-fullscreen.min",
                             "light-gallery/lg-thumbnail.min", "light-gallery/lg-zoom.min",
                             "infinite-scroll" %>
  <%= stylesheet_link_tag "lightgallery" %>
<% end %>

<div class="page-header plane-banner">
  <%#= image_tag "plane_2.jpg", :class => "img img-responsive" %>
  <div class="breadcrum-masking">
    <div class="container">
      <div class="col-xs-12 col-sm-6 name no-padding-lr"><%= @continent.name.titleize %> Galleries</div>
      <div class="col-xs-12 col-sm-6 breadcrumb">
        <ol class="breadcrumb">
          <li><%= link_to "Home", root_path %></li>
          <li class="active"><%= @continent.name.titleize %> Galleries</li>
        </ol>
      </div>
    </div>
  </div>
</div>
<style>
  
</style>
<div class="container">
  <!--<div class="col-xs-3">
    <div class="gallery-continents-list">
      <ul>
        <%# @continents.each do |continent| %>
          <%# if continent == @continent %>
            <%#*<li class="active"><%= continent.name.titleize %></li>%>
          <%# else %>
            <%#*<li><%= link_to continent.name.titleize, galleries_path(continent.permalink) %></li>%>
          <%# end %>
        <%# end %>
      </ul>
    </div>
  </div>-->
  <div class="col-xs-12 continent-galleries">
    <% width = @continents.size %>
    <% @no = 1 %>
    <% @continents.each do |continent_list| %>
      <div class="grid">
        <% continent_list.each_with_index do |continent, x| %>
          <figure class=" effect-chico" style="width: 16.6%">
            <%= image_tag continent.banner.url(:medium), :alt => continent.banner.url %>
            <figcaption>
              <h2><%= continent.name %></h2>
              <%= link_to "javascript:void(0)", galleries_path(continent.permalink) %>
            </figcaption>
          </figure>
          <% @no = @no == 5 ? 1 : @no+1 %>
        <% end %>
      </div>
    <% end %>

    <div class="col-lg-12" id="lightgallery">
      <%= render :partial => "gallery", :object => @galleries %>
    </div>

    <% unless @galleries_paginate.total_pages.to_i == 0 || @galleries_paginate.total_pages.to_i == 1 %>
      <p id="view-more">
        <%= image_tag "spinner.gif", :class => "img img-responsive",
                      :style => "height:50px;width:50px;margin: 20px auto 0" %>
        <%= link_to('View More', url_for(page: @galleries_paginate.current_page + 1), :remote => true,
                    :style => "display:none;") %>
      </p>
    <% end %>
  </div>
</div>


<script type="text/javascript">
  $(document).ready(function(){
    // init Isotope
    var $grid = $('.grid').isotope({
      // options
    });
    // filter items on button click
    $('.filter-button-group').on( 'click', 'button', function() {
      var filterValue = $(this).attr('data-filter');
      $grid.isotope({ filter: filterValue });
    });
    $('.button-group').each( function( i, buttonGroup ) {
      var $buttonGroup = $( buttonGroup );
      $buttonGroup.on( 'click', 'button', function() {
        $buttonGroup.find('.is-checked').removeClass('is-checked');
        $( this ).addClass('is-checked');
      });
    });

    $('.grid-mansory').masonry({
      itemSelector: '.element-item',
      percentPosition: true
    });

    $('#lightgallery').lightGallery({
      thumbnail: true,
      selector: 'div.continent-list-gallery'
    });
  })
</script>
